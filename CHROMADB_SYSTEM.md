# üå∏ XOFlowers ChromaDB - –°–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ XOFlowers, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ ChromaDB –∏ sentence-transformers. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ 692 –ø—Ä–æ–¥—É–∫—Ç–∞–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç—Ä–µ—Ö —è–∑—ã–∫–æ–≤.

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üß† –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–º—ã—Å–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- **üåç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É–º—ã–Ω—Å–∫–æ–≥–æ, —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- **üí∞ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –±—é–¥–∂–µ—Ç—É** - –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Ü–µ–Ω–æ–≤–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
- **üå∏ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Ü–≤–µ—Ç—ã (574) –∏ –¥—Ä—É–≥–∏–µ —Ç–æ–≤–∞—Ä—ã (118)
- **‚ö° –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–∏—Å–∫ –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 100–º—Å

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```
‚úÖ 692 –ø—Ä–æ–¥—É–∫—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ 724 –∑–∞–ø–∏—Å–µ–π CSV (95.6%)
üå∏ 574 —Ü–≤–µ—Ç–æ—á–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞ (83%)
üéÅ 118 –¥—Ä—É–≥–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ (17%)
üìã 15 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤
```

### üîç –ê–Ω–∞–ª–∏–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–û—Ç–±—Ä–æ—à–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (32 –∏–∑ 724):**
- **17 –∑–∞–ø–∏—Å–µ–π** - —Ç–æ–≤–∞—Ä—ã –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ (`product_exists='False'`)
- **15 –∑–∞–ø–∏—Å–µ–π** - –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ü–µ–Ω (`chunk_type='collection'`)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤–∞–ª–∏–¥–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞:**
```python
def _is_valid_product(self, row):
    return (
        row.get('chunk_type') == 'product' and      # –¢–∏–ø: –ø—Ä–æ–¥—É–∫—Ç
        row.get('product_exists') == 'True' and     # –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞
        row.get('primary_text', '').strip() and    # –ï—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
        self._parse_price(row.get('price', '0')) > 0 # –ï—Å—Ç—å —Ü–µ–Ω–∞ > 0
    )
```

## üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
flower-chat-agent/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ database/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py                   # API –º–æ–¥—É–ª—è
‚îÇ       ‚îú‚îÄ‚îÄ manager.py                    # –ú–µ–Ω–µ–¥–∂–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îî‚îÄ‚îÄ chromadb_search_engine.py     # üéØ –ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ ChromaDB
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ test_chromadb_system.py          # üß™ –¢–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ final_products_case_standardized.csv  # üìä –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (724 –∑–∞–ø–∏—Å–∏)
‚îú‚îÄ‚îÄ chroma_db_simple/                    # üíæ –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ main.py                             # üöÄ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ CHROMADB_SYSTEM.md                  # üìñ –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–π API:

```python
from src.database.chromadb_search_engine import *

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
load_products()

# –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
results = search_products("roses", limit=10)

# –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤
flowers = search_flowers("–±—É–∫–µ—Ç", limit=5)

# –ü–æ–∏—Å–∫ –≤ —Ä–∞–º–∫–∞—Ö –±—é–¥–∂–µ—Ç–∞
budget_items = search_budget("flori", 1000, limit=5)

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
stats = get_stats()
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞:
```python
{
    'id': 'product_123',
    'name': 'Bouquet "Red Roses"',
    'category': 'Classic Bouquets',
    'price': 640.0,
    'url': 'https://xoflowers.md/...',
    'is_flower': True,
    'score': 0.512  # –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å (0-1)
}
```

## üåç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### üá∑üá¥ –†—É–º—ã–Ω—Å–∫–∏–π:
```python
search_products("flori pentru nuntƒÉ")     # –¶–≤–µ—Ç—ã –¥–ª—è —Å–≤–∞–¥—å–±—ã
search_budget("cadou aniversare", 500)    # –ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ —é–±–∏–ª–µ–π –¥–æ 500 –ª–µ–π
```

### üá∑üá∫ –†—É—Å—Å–∫–∏–π:
```python
search_flowers("–±—É–∫–µ—Ç —Ä–æ–∑")               # –ë—É–∫–µ—Ç —Ä–æ–∑
search_budget("–ø–æ–¥–∞—Ä–æ–∫ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è", 1000)  # –ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –¥–æ 1000 –ª–µ–π
```

### üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π:
```python
search_products("birthday gift")          # –ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è
search_flowers("wedding bouquet")         # –°–≤–∞–¥–µ–±–Ω—ã–π –±—É–∫–µ—Ç
```

## üìã –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤

### üå∏ –¶–≤–µ—Ç–æ—á–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (10):
- Author'S Bouquets (–ê–≤—Ç–æ—Ä—Å–∫–∏–µ –±—É–∫–µ—Ç—ã)
- Classic Bouquets (–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –±—É–∫–µ—Ç—ã)
- French Roses (–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ —Ä–æ–∑—ã)
- Mono/Duo Bouquets (–ú–æ–Ω–æ/–¥—É–æ –±—É–∫–µ—Ç—ã)
- Basket / Boxes With Flowers (–ö–æ—Ä–∑–∏–Ω—ã/–∫–æ—Ä–æ–±–∫–∏ —Å —Ü–≤–µ—Ç–∞–º–∏)
- Bride'S Bouquet (–ë—É–∫–µ—Ç –Ω–µ–≤–µ—Å—Ç—ã)
- Premium (–ü—Ä–µ–º–∏—É–º)
- Peonies (–ü–∏–æ–Ω—ã)
- Mourning Flower Arrangement (–¢—Ä–∞—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏)
- St. Valentine'S Day (–î–µ–Ω—å –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞)

### üéÅ –î—Ä—É–≥–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (5):
- Chando (–î–∏—Ñ—Ñ—É–∑–æ—Ä—ã)
- Soft Toys (–ú—è–≥–∫–∏–µ –∏–≥—Ä—É—à–∫–∏)
- Greeting Card (–ü–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∫–∏)
- Additional Accessories / Vases (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã/–≤–∞–∑—ã)
- Sweets (–°–ª–∞–¥–æ—Å—Ç–∏)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python tests/test_chromadb_system.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–æ–≤:**
```
üöÄ Testing XOFlowers ChromaDB Search Engine
‚úÖ Loaded 692 products
‚úÖ All search functions working
‚úÖ Multilingual support confirmed
‚úÖ Price filtering operational
‚úÖ Category-based search functional
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Embedding Model**: all-MiniLM-L6-v2 (–º–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- **Vector Database**: ChromaDB —Å –∫–æ—Å–∏–Ω—É—Å–Ω—ã–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º
- **Search Performance**: < 100ms –Ω–∞ –∑–∞–ø—Ä–æ—Å
- **Memory Usage**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **Data Quality**: 95.6% —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ | ~2 —Å–µ–∫—É–Ω–¥—ã |
| –í—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ | < 100–º—Å |
| –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ | –í—ã—Å–æ–∫–∞—è (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π) |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤ | 3 (RO/RU/EN) |
| –†–∞–∑–º–µ—Ä –±–∞–∑—ã | 692 –ø—Ä–æ–¥—É–∫—Ç–∞ |

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI –±–æ—Ç–∞–º–∏

–°–∏—Å—Ç–µ–º–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AI —á–∞—Ç-–±–æ—Ç–∞–º–∏:

```python
def handle_product_search(user_query, user_budget=None, language='auto'):
    if user_budget:
        return search_budget(user_query, user_budget)
    else:
        return search_products(user_query)
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**XOFlowers ChromaDB —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:**
- üéØ –í—ã—Å–æ–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–µ
- üåç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚ö° –ë—ã—Å—Ç—Ä—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è real-time –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π
- üèóÔ∏è –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –ª–µ–≥–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- üìä –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª—É—á—à–µ–≥–æ UX

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AI —á–∞—Ç-–±–æ—Ç–∞–º–∏ XOFlowers!** üöÄ
