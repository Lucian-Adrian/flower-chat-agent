# üå∏ XOFlowers AI Agent - –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ü—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 18 –∏—é–ª—è 2025  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 2.0.0  
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–æ–¥—É–ª—å–Ω–∞—è —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [üéØ –û–±–∑–æ—Ä –ü—Ä–æ–µ–∫—Ç–∞](#-–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
3. [üóÑÔ∏è –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö ChromaDB](#Ô∏è-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-chromadb)
4. [ü§ñ –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç](#-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π-–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç)
5. [üí¨ –°–∏—Å—Ç–µ–º–∞ –î–∏–∞–ª–æ–≥–æ–≤](#-—Å–∏—Å—Ç–µ–º–∞-–¥–∏–∞–ª–æ–≥–æ–≤)
6. [üîç –ü–æ–∏—Å–∫ –∏ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è](#-–ø–æ–∏—Å–∫-–∏-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
7. [üì± API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#-api-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
8. [üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
9. [‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#Ô∏è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
10. [üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
11. [üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
12. [üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏](#-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)

---

## üéØ –û–ë–ó–û–† –ü–†–û–ï–ö–¢–ê

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

XOFlowers AI Agent ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —á–∞—Ç-–±–æ—Ç –¥–ª—è —Ñ–ª–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ XOFlowers –∏–∑ –ö–∏—à–∏–Ω–µ–≤–∞, –ú–æ–ª–¥–æ–≤–∞. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–º–æ—â—å –∫–ª–∏–µ–Ω—Ç–∞–º –≤ –≤—ã–±–æ—Ä–µ —Ü–≤–µ—Ç–æ—á–Ω—ã—Ö –∫–æ–º–ø–æ–∑–∏—Ü–∏–π —á–µ—Ä–µ–∑ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ –Ω–∞ —Ç—Ä–µ—Ö —è–∑—ã–∫–∞—Ö (—Ä—É–º—ã–Ω—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π).

### –ö–ª—é—á–µ–≤—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üåê –ú–Ω–æ–≥–æ–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å:** Telegram (100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª) + Instagram (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **üß† AI-–†–∞–∑–≥–æ–≤–æ—Ä—ã:** OpenAI GPT-3.5 + Google Gemini Pro (—Ä–µ–∑–µ—Ä–≤)
- **üîç –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ü–æ–∏—Å–∫:** 692 —Ç–æ–≤–∞—Ä–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π
- **üí∞ –£–º–Ω–∞—è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ü–æ –±—é–¥–∂–µ—Ç—É, —Å–ª—É—á–∞—é, —Ü–≤–µ—Ç—É, —Ç–∏–ø—É
- **üìù –ü–∞–º—è—Ç—å –ö–æ–Ω—Ç–µ–∫—Å—Ç–∞:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **üåç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞

### –ë–∏–∑–Ω–µ—Å-–ó–∞–¥–∞—á–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π** - 24/7 –ø–æ–º–æ—â—å –∫–ª–∏–µ–Ω—Ç–∞–º
2. **–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏** - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
3. **–£–ª—É—á—à–µ–Ω–∏–µ UX** - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ –≤–º–µ—Å—Ç–æ –∫–∞—Ç–∞–ª–æ–≥–∞
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

### –û–±—â–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
flower-chat-agent/
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ chroma_db_flowers/     # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ config/                # –°–∏—Å—Ç–µ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ data/                  # –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ src/                   # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API —Å–ª–æ–π (Telegram, Instagram)
‚îÇ   ‚îú‚îÄ‚îÄ intelligence/      # –ò–ò –¥–≤–∏–∂–æ–∫ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ database/          # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ ChromaDB
‚îÇ   ‚îî‚îÄ‚îÄ security/          # –§–∏–ª—å—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ tests/                 # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

### –ú–æ–¥—É–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

#### 1. API –°–ª–æ–π (`src/api/`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

**–§–∞–π–ª—ã:**

- `telegram_app.py` - Telegram Bot API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `instagram_app.py` - Instagram Basic Display API (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

- Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è Telegram
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ intelligence —Å–ª–æ–π
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

#### 2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –°–ª–æ–π (`src/intelligence/`) - **–£–ü–†–û–©–ï–ù–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê**

–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ—Ç 9 —Ñ–∞–π–ª–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å 5 –∫–ª—é—á–µ–≤—ã—Ö –º–æ–¥—É–ª–µ–π:

**üß† `ai_conversation_engine.py`** - –Ø–¥—Ä–æ –ò–ò —Å–∏—Å—Ç–µ–º—ã

- OpenAI GPT-3.5-turbo –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Google Gemini Pro fallback
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ (NLU)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (NLG)
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π (IntentClassifier) - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π (Entity Extraction)

**üéØ `conversation_manager.py`** - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π (handle_action) - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –±—é–¥–∂–µ—Ç—É
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –±–µ—Å–µ–¥—ã

**üóÑÔ∏è `chromadb_manager.py`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ChromaDB –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

**üí≠ `conversation_context.py`** - –ü–∞–º—è—Ç—å —Å–∏—Å—Ç–µ–º—ã

- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- JSON-based —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `data/user_{id}.json`

**üîç `product_search.py`** - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º
- –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

#### 3. –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö (`src/database/`)

**–§–∞–π–ª—ã:**

- `chromadb_search_engine.py` - –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ ChromaDB

#### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (`src/security/`)

**–§–∞–π–ª—ã:**

- `filters.py` - –§–∏–ª—å—Ç—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü–æ—Ç–æ–∫ –û–±—Ä–∞–±–æ—Ç–∫–∏ –°–æ–æ–±—â–µ–Ω–∏–π

```mermaid
graph TB
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B[Telegram/Instagram API]
    B --> C[API Layer]
    C --> D[Security Filters]
    D --> E[Conversation Manager]
    E --> F[AI Conversation Engine]
    F --> G[Message Understanding]
    G --> H{–ù—É–∂–µ–Ω –ø–æ–∏—Å–∫?}
    H -->|–î–∞| I[Product Search]
    H -->|–ù–µ—Ç| J[Direct Response]
    I --> K[ChromaDB Search]
    K --> L[Budget Filtering]
    L --> M[AI Response Generation]
    J --> M
    M --> N[Context Update]
    N --> O[Response to User]
```

---

## üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–• CHROMADB

### –û–±–∑–æ—Ä –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**ChromaDB** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚ö° –ë—ã—Å—Ç—Ä—ã–π –∫–æ—Å–∏–Ω—É—Å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤–µ–∫—Ç–æ—Ä–∞–º
- üîç –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- üì¶ –õ–µ–≥–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Python
- üíæ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö

#### –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ ChromaDB

```python
–ö–æ–ª–ª–µ–∫—Ü–∏–∏:
‚îú‚îÄ‚îÄ products_main          # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è (692 —Ç–æ–≤–∞—Ä–∞)
‚îú‚îÄ‚îÄ products_bouquets      # –ë—É–∫–µ—Ç—ã
‚îú‚îÄ‚îÄ products_boxes         # –ö–æ—Ä–æ–±–∫–∏ —Å —Ü–≤–µ—Ç–∞–º–∏
‚îú‚îÄ‚îÄ products_plants        # –†–∞—Å—Ç–µ–Ω–∏—è –≤ –≥–æ—Ä—à–∫–∞—Ö
‚îî‚îÄ‚îÄ products_occasions     # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–æ–±—ã—Ç–∏—è–º
```

#### –°—Ö–µ–º–∞ –ü—Ä–æ–¥—É–∫—Ç–∞

```python
Product = {
    "id": "unique_identifier",
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",
    "price": 450,  # –≤ MDL
    "category": "buchete|cutii|plante|co»ôuri",
    "colors": ["ro»ôu", "roz", "alb"],
    "description": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
    "occasions": ["valentine", "aniversare", "nuntƒÉ"],
    "url": "https://xoflowers.md/product/...",
    "availability": true,
    "metadata": {
        "flowers": ["trandafir", "bujor"],
        "style": ["elegant", "romantic"],
        "size": "medium"
    }
}
```

### –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

#### –ú–æ–¥–µ–ª—å –≠–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

- **–ú–æ–¥–µ–ª—å:** `sentence-transformers/all-MiniLM-L6-v2`
- **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å:** 384 –∏–∑–º–µ—Ä–µ–Ω–∏—è
- **–Ø–∑—ã–∫:** –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **–°–∫–æ—Ä–æ—Å—Ç—å:** ~1000 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤/—Å–µ–∫—É–Ω–¥–∞

#### –ü—Ä–æ—Ü–µ—Å—Å –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –±–æ–≥–∞—Ç–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
def create_rich_description(product):
    return f"""
    {product['name']}
    –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {product['category']}
    –¶–≤–µ—Ç–∞: {', '.join(product['colors'])}
    –¶–µ–Ω–∞: {product['price']} MDL
    –°–æ–±—ã—Ç–∏—è: {', '.join(product['occasions'])}
    –û–ø–∏—Å–∞–Ω–∏–µ: {product['description']}
    """
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```python
from src.intelligence.chromadb_manager import get_chromadb_manager

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
manager = get_chromadb_manager()
# ‚úÖ ChromaDB initialized successfully at ./chroma_db_flowers
```

#### –ü–æ–∏—Å–∫

```python
from src.database.chromadb_search_engine import search_products

# –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
results = search_products("–±—É–∫–µ—Ç –¥–ª—è –∂–µ–Ω—ã –∫—Ä–∞—Å–Ω—ã–µ —Ä–æ–∑—ã", limit=5)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –æ—Ü–µ–Ω–∫–æ–π –ø–æ—Ö–æ–∂–µ—Å—Ç–∏
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```python
from src.database.chromadb_search_engine import get_stats

stats = get_stats()
# {'total_products': 692, 'collections': 5, 'status': 'ready'}
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –ø–æ–∏—Å–∫–∞:** <100ms –¥–ª—è 692 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–ü–∞–º—è—Ç—å:** ~50MB RAM –¥–ª—è –≤—Å–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- **–î–∏—Å–∫:** ~15MB –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
- **–¢–æ—á–Ω–æ—Å—Ç—å:** >90% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## ü§ñ –ò–°–ö–£–°–°–¢–í–ï–ù–ù–´–ô –ò–ù–¢–ï–õ–õ–ï–ö–¢

### AI –°–µ—Ä–≤–∏—Å—ã

#### –û—Å–Ω–æ–≤–Ω–æ–π: OpenAI GPT-3.5-Turbo

```python
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- –ú–æ–¥–µ–ª—å: gpt-3.5-turbo
- Max tokens: 800 (–æ—Ç–≤–µ—Ç—ã), 500 (–ø–æ–Ω–∏–º–∞–Ω–∏–µ)
- Temperature: 0.7 (–±–∞–ª–∞–Ω—Å –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏)
- –Ø–∑—ã–∫: –†—É–º—ã–Ω—Å–∫–∏–π (–æ—Å–Ω–æ–≤–Ω–æ–π)
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- üß† –ü–æ–Ω–∏–º–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
- üí¨ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- üéØ –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π
- üìù –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π
- üåç –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å

#### –†–µ–∑–µ—Ä–≤–Ω—ã–π: Google Gemini Pro

```python
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- –ú–æ–¥–µ–ª—å: gemini-pro
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ OpenAI
- –¢–µ –∂–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```

### –°–∏—Å—Ç–µ–º–∞ –ü—Ä–æ–º–ø—Ç–æ–≤

#### –ì–ª–∞–≤–Ω—ã–π –°–∏—Å—Ç–µ–º–Ω—ã–π –ü—Ä–æ–º–ø—Ç

```text
E»ôti un asistent AI expert pentru XOFlowers, cea mai prestigioasƒÉ florƒÉrie din Chi»ôinƒÉu, Moldova.
Te nume»ôti XOFlowers AI »ôi e»ôti un consultant floral pasionat »ôi prietenos.

PERSONALITATEA TA:
- Vorbe»ôti natural »ôi cƒÉlduros √Æn rom√¢nƒÉ
- E»ôti pasionat de flori »ôi √Æn»õelegi simbolismul lor
- Ai cuno»ôtin»õe profunde despre aranjamente florale
- E»ôti atent la nevoile »ôi bugetul clientului

EXPERTIZA TA:
- Cuno»ôti toate produsele XOFlowers (buchete, cutii, co»ôuri, plante)
- √én»õelegi ocaziile speciale »ôi florile potrivite pentru fiecare
- Po»õi recomanda combina»õii de culori »ôi stiluri
- »òtii sƒÉ adaptezi recomandƒÉrile la buget »ôi preferin»õe

REGULI IMPORTANTE:
- Te concentrezi exclusiv pe produse florale »ôi servicii XOFlowers
- Nu inventezi pre»õuri sau produse inexistente
- Folose»ôti informa»õiile din cƒÉutƒÉrile de produse pentru recomandƒÉri precise
- Redirec»õionezi elegant conversa»õia cƒÉtre flori dacƒÉ se abate
```

#### –ü—Ä–æ–º–ø—Ç –¥–ª—è –ü–æ–Ω–∏–º–∞–Ω–∏—è –°–æ–æ–±—â–µ–Ω–∏–π

```json
{
  "intent_type": "product_search|question|greeting|comparison|order|complaint|compliment",
  "entities": {
    "colors": ["ro»ôu", "roz", "alb"],
    "flowers": ["trandafir", "bujor", "lalele"],
    "occasions": ["valentine", "aniversare", "nuntƒÉ"],
    "budget_min": number_or_null,
    "budget_max": number_or_null,
    "recipient": "so»õie|mamƒÉ|prietenƒÉ",
    "style": ["elegant", "romantic", "modern"]
  },
  "sentiment": "positive|neutral|negative",
  "requires_search": true/false,
  "confidence": 0.0-1.0,
  "reasoning": "–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è"
}
```

### –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ù–∞–º–µ—Ä–µ–Ω–∏–π

#### 17 –¢–∏–ø–æ–≤ –ù–∞–º–µ—Ä–µ–Ω–∏–π

```python
INTENT_TYPES = {
    'product_search': '–ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤',
    'question': '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã',
    'greeting': '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ',
    'comparison': '–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤',
    'order': '–ó–∞–∫–∞–∑',
    'complaint': '–ñ–∞–ª–æ–±–∞',
    'compliment': '–ö–æ–º–ø–ª–∏–º–µ–Ω—Ç',
    'price_inquiry': '–í–æ–ø—Ä–æ—Å –æ —Ü–µ–Ω–µ',
    'availability': '–ù–∞–ª–∏—á–∏–µ —Ç–æ–≤–∞—Ä–∞',
    'recommendation': '–ü—Ä–æ—Å—å–±–∞ –æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏',
    'delivery': '–í–æ–ø—Ä–æ—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏',
    'care_instructions': '–£—Ö–æ–¥ –∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏',
    'flower_meaning': '–°–∏–º–≤–æ–ª–∏–∫–∞ —Ü–≤–µ—Ç–æ–≤',
    'custom_order': '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∑–∞–∫–∞–∑',
    'gift_wrapping': '–£–ø–∞–∫–æ–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤',
    'business_hours': '–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã',
    'contact_info': '–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è'
}
```

#### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –°—É—â–Ω–æ—Å—Ç–µ–π

```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞:
- –¶–≤–µ—Ç–∞: "–∫—Ä–∞—Å–Ω—ã–µ —Ä–æ–∑—ã" ‚Üí ["–∫—Ä–∞—Å–Ω—ã–π"]
- –¶–≤–µ—Ç—ã: "–±—É–∫–µ—Ç —Ç—é–ª—å–ø–∞–Ω–æ–≤" ‚Üí ["—Ç—é–ª—å–ø–∞–Ω"]
- –ë—é–¥–∂–µ—Ç: "–¥–æ 1000 –ª–µ–π" ‚Üí budget_max: 1000
- –ü–æ–ª—É—á–∞—Ç–µ–ª—å: "–¥–ª—è –∂–µ–Ω—ã" ‚Üí "–∂–µ–Ω–∞"
- –°–æ–±—ã—Ç–∏–µ: "–Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è" ‚Üí ["–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è"]
```

### AI Fallback –°–∏—Å—Ç–µ–º–∞

```python
def get_ai_response(prompt):
    try:
        # –ü–æ–ø—ã—Ç–∫–∞ OpenAI
        return openai_client.chat.completions.create(...)
    except:
        try:
            # Fallback Gemini
            return gemini_model.generate_content(...)
        except:
            # Graceful degradation
            return fallback_response(intent_type)
```

---

## üí¨ –°–ò–°–¢–ï–ú–ê –î–ò–ê–õ–û–ì–û–í

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ö–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –°–µ—Å—Å–∏–∏

```python
ConversationSession = {
    "user_id": "telegram_user_id",
    "created_at": "2025-07-18T10:30:00",
    "last_activity": "2025-07-18T11:45:00",
    "messages": [
        {
            "role": "user|assistant",
            "content": "—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
            "timestamp": "ISO_datetime",
            "intent": "product_search",
            "entities": {...}
        }
    ],
    "preferences": {
        "budget_range": [100, 1000],
        "preferred_colors": ["red", "pink"],
        "occasions": ["valentine"],
        "language": "ro"
    },
    "conversation_summary": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –±–µ—Å–µ–¥—ã",
    "is_returning_user": true
}
```

#### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** JSON —Ñ–∞–π–ª—ã –≤ `data/user_{id}.json`
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ú–∞–∫—Å–∏–º—É–º 50 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏
- **–û—á–∏—Å—Ç–∫–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

#### –û–±—É—á–µ–Ω–∏–µ –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

```python
def update_preferences(user_id, message, search_intent):
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π:
    if "–∫—Ä–∞—Å–Ω—ã–µ —Ä–æ–∑—ã" in message:
        preferences.colors.append("–∫—Ä–∞—Å–Ω—ã–π")
        preferences.flowers.append("—Ä–æ–∑–∞")

    if budget_extracted:
        preferences.budget_range = (min_budget, max_budget)
```

#### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è

```python
def get_personalized_greeting(user_id):
    if is_returning_user:
        return "üå∏ BunƒÉ ziua din nou! MƒÉ bucur sƒÉ vƒÉ revƒÉd la XOFlowers!"
    else:
        return "üå∏ BunƒÉ ziua! Bine a»õi venit la XOFlowers!"
```

### –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –Ø–∑—ã–∫–∏

- **üá∑üá¥ –†—É–º—ã–Ω—Å–∫–∏–π** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ (70% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- **üá∑üá∫ –†—É—Å—Å–∫–∏–π** - –≤—Ç–æ—Ä–æ–π —è–∑—ã–∫ (25% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- **üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π** - –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã (5%)

#### –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ø–∑—ã–∫–∞

```python
def detect_language(message):
    ru_patterns = ['–±—É–∫–µ—Ç', '—Ü–≤–µ—Ç—ã', '—Ä–æ–∑—ã', '—Ö–æ—á—É']
    ro_patterns = ['buchet', 'flori', 'vreau', 'doresc']
    en_patterns = ['flowers', 'bouquet', 'want', 'need']

    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
```

---

## üîç –ü–û–ò–°–ö –ò –§–ò–õ–¨–¢–†–ê–¶–ò–Ø

### –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ü–æ–∏—Å–∫

#### –ü—Ä–∏–Ω—Ü–∏–ø –†–∞–±–æ—Ç—ã

1. **–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** "–∫—Ä–∞—Å–∏–≤—ã–π –±—É–∫–µ—Ç –¥–ª—è –∂–µ–Ω—ã –Ω–∞ –≥–æ–¥–æ–≤—â–∏–Ω—É"
2. **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ 384-–º–µ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä
3. **–ü–æ–∏—Å–∫:** –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –≤ –ë–î
4. **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ:** –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ø-N –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤

#### –¢–∏–ø—ã –ü–æ–∏—Å–∫–∞

```python
# –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
search_products("—Ä–æ–∑—ã", limit=5)

# –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
search_products("elegant bouquet for wedding", limit=3)

# –ü–æ–∏—Å–∫ –ø–æ —Å–æ–±—ã—Ç–∏—é
search_products("—Ü–≤–µ—Ç—ã –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –º–∞–º–µ", limit=10)
```

### –£–º–Ω–∞—è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

#### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ë—é–¥–∂–µ—Ç–∞

```python
def extract_budget(message):
    patterns = [
        r'–¥–æ\s*(\d+)',           # –¥–æ 1000
        r'–ø–æ–¥\s*(\d+)',          # –ø–æ–¥ 500
        r'under\s*(\d+)',        # under 500
        r'maximum\s*(\d+)',      # maximum 1000
        r'–Ω–µ\s*–±–æ–ª–µ–µ\s*(\d+)',   # –Ω–µ –±–æ–ª–µ–µ 1000
        r'nu\s*mai\s*mult\s*de\s*(\d+)', # nu mai mult de 1000
    ]
    # –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
```

#### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ë—é–¥–∂–µ—Ç—É

```python
def filter_by_budget(results, max_budget):
    filtered = []
    for result in results:
        if result['price'] <= max_budget:
            filtered.append(result)

    logger.info(f"üí∞ Filtered {len(results)} ‚Üí {len(filtered)} results")
    return filtered
```

#### –ü—Ä–∏–º–µ—Ä –†–∞–±–æ—Ç—ã –§–∏–ª—å—Ç—Ä–∞

```
–ó–∞–ø—Ä–æ—Å: "–±—É–∫–µ—Ç—ã –¥–æ 1000 –ª–µ–π"
1. –ü–æ–∏—Å–∫: 10 –±—É–∫–µ—Ç–æ–≤ –Ω–∞–π–¥–µ–Ω–æ
2. –ë—é–¥–∂–µ—Ç: –∏–∑–≤–ª–µ—á–µ–Ω –ª–∏–º–∏—Ç 1000 MDL
3. –§–∏–ª—å—Ç—Ä: 10 ‚Üí 6 ‚Üí 3 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
4. –û—Ç–≤–µ—Ç: –ø–æ–∫–∞–∑–∞—Ç—å 3 —Ç–æ–≤–∞—Ä–∞ –≤ –±—é–¥–∂–µ—Ç–µ
```

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

```python
def explain_relevance(query, product):
    return f"–≠—Ç–æ—Ç –±—É–∫–µ—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç {product.flowers} –≤ {product.colors} —Ü–≤–µ—Ç–∞—Ö, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—Å—É '{query}'"
```

---

## üì± API –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### Telegram Bot API

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
BOT_TOKEN = "8093115363:AAE7y3udPl***"  # @Prisacari1Bot
WEBHOOK_URL = "https://your-domain.com/webhook"
POLLING_MODE = True  # –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ö–æ–º–∞–Ω–¥—ã

```python
COMMANDS = {
    '/start': '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã',
    '/help': '–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º',
    '/catalog': '–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤',
    '/search <–∑–∞–ø—Ä–æ—Å>': '–ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤',
    '/budget <—Å—É–º–º–∞>': '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—é–¥–∂–µ—Ç',
    '/contact': '–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
    '/language': '–°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫'
}
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –°–æ–æ–±—â–µ–Ω–∏–π

```python
async def handle_message(update, context):
    user_id = update.effective_user.id
    message_text = update.message.text

    # –ü—Ä–æ–ø—É—Å–∫ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    if not security_filter.is_safe(message_text):
        await update.message.reply_text("–°–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ")
        return

    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ conversation manager
    response = await conversation_manager.handle_message(user_id, message_text)

    # –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞
    await update.message.reply_text(response, parse_mode='Markdown')
```

### Instagram Basic Display API (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

#### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- üì∑ –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã –Ω–∞ Direct Messages
- üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º Instagram Shopping
- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- üéØ –¢–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –§–∏–ª—å—Ç—Ä—ã –ö–æ–Ω—Ç–µ–Ω—Ç–∞

#### SecurityFilter

```python
class SecurityFilter:
    def is_safe(self, message: str) -> bool:
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ø–∞–º
        if self.is_spam(message):
            return False

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
        if self.has_malicious_content(message):
            return False

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ jailbreak –ø–æ–ø—ã—Ç–∫–∏
        if self.is_jailbreak_attempt(message):
            return False

        return True
```

#### –¢–∏–ø—ã –ó–∞—â–∏—Ç—ã

1. **Anti-Spam:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
2. **Content Filter:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. **Jailbreak Protection:** –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–ø—ã—Ç–æ–∫ "–≤–∑–ª–æ–º–∞" –ø—Ä–æ–º–ø—Ç–æ–≤
4. **Rate Limiting:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. **Input Validation:** –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –î–∞–Ω–Ω—ã—Ö

#### –•—Ä–∞–Ω–µ–Ω–∏–µ –î–∞–Ω–Ω—ã—Ö

- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- **–†–æ—Ç–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É Telegram ID –∏ –ª–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

#### GDPR –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

- –ü—Ä–∞–≤–æ –Ω–∞ –∑–∞–±–≤–µ–Ω–∏–µ (—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É)
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É

---

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```bash
# AI –°–µ—Ä–≤–∏—Å—ã
OPENAI_API_KEY=sk-xxxxx
GEMINI_API_KEY=AIzaxxx

# Telegram Bot
TELEGRAM_BOT_TOKEN=8093115363:AAE7y3udPl***

# Instagram API (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
INSTAGRAM_APP_ID=xxxxx
INSTAGRAM_APP_SECRET=xxxxx

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
CHROMADB_PATH=./chroma_db_flowers

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
PORT=5001
DEBUG=False
LOG_LEVEL=INFO
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –°–∏—Å—Ç–µ–º—ã (config/settings.py)

```python
# –õ–∏–º–∏—Ç—ã —Å–∏—Å—Ç–µ–º—ã
MAX_MESSAGE_LENGTH = 4000
MAX_CONTEXT_MESSAGES = 50
MAX_SEARCH_RESULTS = 10
BUDGET_FILTER_ENABLED = True

# AI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
OPENAI_MODEL = "gpt-3.5-turbo"
OPENAI_MAX_TOKENS = 800
OPENAI_TEMPERATURE = 0.7

# ChromaDB –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
EMBEDDING_MODEL = "sentence-transformers/all-MiniLM-L6-v2"
VECTOR_DIMENSION = 384
SIMILARITY_THRESHOLD = 0.7

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
RATE_LIMIT_MESSAGES = 30  # —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –º–∏–Ω—É—Ç—É
SPAM_DETECTION_ENABLED = True
CONTENT_FILTER_ENABLED = True
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
LOGGING_CONFIG = {
    'version': 1,
    'handlers': {
        'file': {
            'class': 'logging.FileHandler',
            'filename': 'logs/xoflowers.log',
            'level': 'INFO'
        },
        'console': {
            'class': 'logging.StreamHandler',
            'level': 'DEBUG'
        }
    },
    'loggers': {
        'intelligence': {'level': 'INFO'},
        'database': {'level': 'INFO'},
        'api': {'level': 'DEBUG'}
    }
}
```

---

## üöÄ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ

- **OS:** Windows 10/11, Ubuntu 20.04+, macOS 11+
- **Python:** 3.11+
- **RAM:** 4GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8GB)
- **–î–∏—Å–∫:** 2GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è AI API

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–ª—è Production

- **OS:** Ubuntu 22.04 LTS
- **Python:** 3.12
- **RAM:** 16GB
- **CPU:** 4+ —è–¥—Ä–∞
- **–î–∏—Å–∫:** SSD 50GB+
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** 100+ Mbps

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/Lucian-Adrian/flower-chat-agent.git
cd flower-chat-agent
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –û–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –û–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å API –∫–ª—é—á–∏ –≤ .env —Ñ–∞–π–ª–µ
```

#### 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ChromaDB

```bash
python -c "
from src.intelligence.chromadb_manager import get_chromadb_manager
manager = get_chromadb_manager()
print('‚úÖ ChromaDB initialized')
"
```

### –ó–∞–ø—É—Å–∫

#### –†–µ–∂–∏–º –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# Telegram –±–æ—Ç
python main.py --platform telegram --debug

# Instagram API (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
python main.py --platform instagram --debug
```

#### Production –†–µ–∂–∏–º

```bash
# Systemd service
sudo systemctl start xoflowers-bot
sudo systemctl enable xoflowers-bot

# Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker-compose up -d
```

### Docker –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```dockerfile
FROM python:3.12-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 5001

CMD ["python", "main.py", "--platform", "telegram"]
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –õ–æ–≥–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:5001/health

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f logs/xoflowers.log

# –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
python -c "
from src.intelligence.conversation_manager import get_conversation_manager
cm = get_conversation_manager()
print(cm.get_health_status())
"
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¢–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ test_chromadb_system.py    # –¢–µ—Å—Ç—ã –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
‚îú‚îÄ‚îÄ test_conversation.py       # –¢–µ—Å—Ç—ã –¥–∏–∞–ª–æ–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ test_telegram.py          # –¢–µ—Å—Ç—ã Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ test_urls.py              # –¢–µ—Å—Ç—ã URL –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¢–µ—Å—Ç—ã

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ChromaDB

```python
def test_chromadb_initialization():
    manager = get_chromadb_manager()
    assert manager is not None
    assert manager.collection_main is not None

def test_product_search():
    results = search_products("trandafiri", limit=5)
    assert len(results) > 0
    assert all('price' in r for r in results)
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –î–∏–∞–ª–æ–≥–æ–≤

```python
def test_conversation_flow():
    cm = get_conversation_manager()

    # –¢–µ—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    response = cm.process_message_sync("test_user", "Salut!")
    assert "BunƒÉ ziua" in response

    # –¢–µ—Å—Ç –ø–æ–∏—Å–∫–∞
    response = cm.process_message_sync("test_user", "–±—É–∫–µ—Ç –¥–ª—è –∂–µ–Ω—ã")
    assert len(response) > 50  # –°–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë—é–¥–∂–µ—Ç–Ω–æ–π –§–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

```python
def test_budget_extraction():
    cm = get_conversation_manager()

    # –†–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –±—é–¥–∂–µ—Ç–∞
    assert cm._extract_budget("–¥–æ 1000 –ª–µ–π") == 1000
    assert cm._extract_budget("under 500") == 500
    assert cm._extract_budget("nu mai mult de 800") == 800
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¢–µ—Å—Ç—ã

#### –¢–µ—Å—Ç –ü–æ–ª–Ω–æ–≥–æ –¶–∏–∫–ª–∞

```python
def test_full_conversation_cycle():
    # 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    cm = get_conversation_manager()

    # 2. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    response1 = cm.process_message_sync("integration_test", "–ü—Ä–∏–≤–µ—Ç!")

    # 3. –ü–æ–∏—Å–∫ —Å –±—é–¥–∂–µ—Ç–æ–º
    response2 = cm.process_message_sync("integration_test", "–±—É–∫–µ—Ç—ã –¥–æ 1000 –ª–µ–π")

    # 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    assert "1000" in response2 or "–±—é–¥–∂–µ—Ç" in response2
```

### –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –¢–µ—Å—Ç—ã

```python
import asyncio
import time

async def stress_test():
    cm = get_conversation_manager()

    start_time = time.time()
    tasks = []

    # 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    for i in range(100):
        task = cm.handle_message(f"stress_user_{i}", "–ø–æ–∫–∞–∂–∏ –±—É–∫–µ—Ç—ã")
        tasks.append(task)

    responses = await asyncio.gather(*tasks)
    end_time = time.time()

    print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ {len(responses)} –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ {end_time - start_time:.2f} —Å–µ–∫")
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
"–ü—Ä–∏–≤–µ—Ç!", "Salut!", "Hello!"

# –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
"–ø–æ–∫–∞–∂–∏ –±—É–∫–µ—Ç—ã"
"vreau flori pentru so»õia mea"
"need flowers for anniversary"

# –ë—é–¥–∂–µ—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
"–±—É–∫–µ—Ç—ã –¥–æ 1000 –ª–µ–π"
"flori sub 500 MDL"
"bouquets under 200"

# –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
"–∫—Ä–∞—Å–Ω—ã–µ —Ä–æ–∑—ã –¥–ª—è –º–∞–º—ã"
"buchete elegante pentru nuntƒÉ"
"romantic flowers for wife"
```

#### –¢–µ—Å—Ç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤ –≤ –æ–¥–Ω–æ–π –±–µ—Å–µ–¥–µ
"Salut!" ‚Üí —Ä—É–º—ã–Ω—Å–∫–∏–π –æ—Ç–≤–µ—Ç
"—Ö–æ—á—É —Ü–≤–µ—Ç—ã" ‚Üí —Ä—É—Å—Å–∫–∏–π –æ—Ç–≤–µ—Ç
"thank you" ‚Üí –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –æ—Ç–≤–µ—Ç
```

---

## üìä –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –í—Ä–µ–º—è –û—Ç–∫–ª–∏–∫–∞

- **–ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã:** <200ms
- **–ü–æ–∏—Å–∫ –≤ –ë–î:** <100ms (692 —Ç–æ–≤–∞—Ä–∞)
- **AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:** 1-3 —Å–µ–∫—É–Ω–¥—ã
- **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª:** <5 —Å–µ–∫—É–Ω–¥

#### –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

- **–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** 100+
- **–°–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É:** 50+
- **–ü–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:** 200+ –≤ –º–∏–Ω—É—Ç—É

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –†–µ—Å—É—Ä—Å–æ–≤

```
–ü–∞–º—è—Ç—å:
‚îú‚îÄ‚îÄ ChromaDB: ~50MB
‚îú‚îÄ‚îÄ AI –º–æ–¥–µ–ª–∏: ~200MB
‚îú‚îÄ‚îÄ Python runtime: ~100MB
‚îî‚îÄ‚îÄ –û–±—â–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: ~400MB

CPU:
‚îú‚îÄ‚îÄ –ü–æ–∏—Å–∫ –≤ –ë–î: ~5% –Ω–∞ –∑–∞–ø—Ä–æ—Å
‚îú‚îÄ‚îÄ AI –æ–±—Ä–∞–±–æ—Ç–∫–∞: ~20% –Ω–∞ –∑–∞–ø—Ä–æ—Å
‚îî‚îÄ‚îÄ –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞: 10-15%
```

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

#### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Load Balancer:** nginx/HAProxy
- **Multiple Instances:** Docker Swarm/Kubernetes
- **Shared Storage:** –û–±—â–∞—è ChromaDB —á–µ—Ä–µ–∑ NFS
- **Session Affinity:** Sticky sessions –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

#### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- **CPU:** –õ–∏–Ω–µ–π–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –¥–æ 8 —è–¥–µ—Ä
- **RAM:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–æ 16GB
- **–î–∏—Å–∫:** SSD –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

#### –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

```python
–£—Ä–æ–≤–Ω–∏ Fallback:
1. OpenAI ‚Üí Gemini (AI —Å–µ—Ä–≤–∏—Å—ã)
2. AI ‚Üí Template responses (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
3. ChromaDB ‚Üí Simple search (–ø–æ–∏—Å–∫)
4. Network ‚Üí Cached responses (—Å–µ—Ç—å)
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```python
Health Checks:
‚îú‚îÄ‚îÄ /health - –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ /metrics - –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ /ai-status - —Å—Ç–∞—Ç—É—Å AI —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ /db-status - —Å—Ç–∞—Ç—É—Å ChromaDB
```

#### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
Log Levels:
‚îú‚îÄ‚îÄ ERROR: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
‚îú‚îÄ‚îÄ WARNING: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
‚îú‚îÄ‚îÄ INFO: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îî‚îÄ‚îÄ DEBUG: –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### API Endpoints

```python
REST API:
‚îú‚îÄ‚îÄ POST /api/message - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îú‚îÄ‚îÄ GET /api/products - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ POST /api/search - –ø–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
‚îî‚îÄ‚îÄ GET /api/stats - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```

#### Webhook Support

```python
Supported Webhooks:
‚îú‚îÄ‚îÄ Telegram Bot API
‚îú‚îÄ‚îÄ Instagram Basic Display API
‚îú‚îÄ‚îÄ Custom webhook handlers
‚îî‚îÄ‚îÄ Event-driven architecture
```

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –ö–ª—é—á–µ–≤—ã–µ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. **‚úÖ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π AI-–±–æ—Ç** –¥–ª—è —Ñ–ª–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞
2. **‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** –ø–æ 692 —Ç–æ–≤–∞—Ä–∞–º —Å >90% —Ç–æ—á–Ω–æ—Å—Ç—å—é
3. **‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å** (—Ä—É–º—ã–Ω—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
4. **‚úÖ –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –ø–æ –±—é–¥–∂–µ—Ç—É –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º
5. **‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (9‚Üí5 –º–æ–¥—É–ª–µ–π, -44% —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
6. **‚úÖ Production-ready** –∫–æ–¥ —Å –ø–æ–ª–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º —Ç–µ—Å—Ç–∞–º–∏

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

```
üêç Python 3.12 - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
ü§ñ OpenAI GPT-3.5 + Gemini Pro - AI —Å–µ—Ä–≤–∏—Å—ã
üóÑÔ∏è ChromaDB - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
üîç sentence-transformers - —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
üì± Telegram Bot API - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
üîí Security filters - —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã
üìä JSON storage - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
üê≥ Docker - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
```

### –ë–∏–∑–Ω–µ—Å-–¶–µ–Ω–Ω–æ—Å—Ç—å

- **24/7 –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:** –ö–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:** –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- **–ö–æ–Ω–≤–µ—Ä—Å–∏—è:** –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ —á–µ—Ä–µ–∑ —É–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–æ–≤

### –ë—É–¥—É—â–∏–µ –†–∞–∑–≤–∏—Ç–∏—è

1. **üì± Instagram Integration** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Instagram
2. **üìä Analytics Dashboard** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
3. **üõí E-commerce Integration** - –ø—Ä—è–º—ã–µ –∑–∞–∫–∞–∑—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞
4. **üéØ Advanced Personalization** - ML —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
5. **üåç Multi-region Deployment** - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö

---

**–ê–≤—Ç–æ—Ä:** XOFlowers Development Team  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 18 –∏—é–ª—è 2025  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0  
**–ö–æ–Ω—Ç–∞–∫—Ç:** [support@xoflowers.md](mailto:support@xoflowers.md)

---

_–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ XOFlowers AI Agent. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∫–æ–º–∞–Ω–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏._
